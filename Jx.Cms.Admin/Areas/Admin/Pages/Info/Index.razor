@page "/"
@page "/Admin"
@using Jx.Cms.Common.Attribute
@using Microsoft.AspNetCore.Components.Authorization
@using Jx.Cms.Common.Components
@using Jx.Cms.Common.Vo

@inject DialogService DialogService

@attribute [Menu("{622993B8-7B9B-4DA8-80B5-9FD34A251C82}", "首页", "/", Int32.MaxValue, iconClass:"fa fa-home")]


@inject MessageService MessageService
Index

<AuthorizeView>
    <Authorized>
        Success
    </Authorized>
    <NotAuthorized>
        Failed
    </NotAuthorized>
</AuthorizeView>

<MediaSelectComponent MediaSelected="MediaSelected"></MediaSelectComponent>

@code {

    protected override void OnInitialized()
    {
        base.OnInitialized();
        //DialogService.ShowModal<MediaSelectComponent>()
    }

    private void MediaSelected(MediaInfoVo mediaInfoVo)
    {
        MessageService.Show(new MessageOption()
        {
            Content = mediaInfoVo.MediaName
        });
    }
}